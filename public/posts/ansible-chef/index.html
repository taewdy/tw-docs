<!doctype html>
<html lang=en itemscope itemtype=http://schema.org/WebPage>
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1"><meta name="generator" content="Hugo 0.134.2">
<link rel="apple-touch-icon" sizes="180x180" href='http://localhost:1313/favicons/apple-touch-icon.png'>
<link rel="icon" type="image/png" sizes="32x32" href='http://localhost:1313/favicons/favicon-32x32.png'>
<link rel="icon" type="image/png" sizes="16x16" href='http://localhost:1313/favicons/favicon-16x16.png'>
<link rel="manifest" href='http://localhost:1313/favicons/site.webmanifest'>
<link rel="mask-icon" href='http://localhost:1313/favicons/safari-pinned-tab.svg'  color="#004750">
<link rel="shortcut icon" href='http://localhost:1313/favicons/favicon.ico'>
<meta name="msapplication-config" content='http://localhost:1313/favicons/browserconfig.xml'>
<title>Ansible vs. Chef: A Comparison of Automation Tools | docs</title><meta property="og:url" content="http://localhost:1313/posts/ansible-chef/">
  <meta property="og:site_name" content="docs">
  <meta property="og:title" content="Ansible vs. Chef: A Comparison of Automation Tools">
  <meta property="og:description" content="Ansible and Chef are popular automation tools used for configuration management, provisioning, and deployment of applications and infrastructure. They help system administrators and DevOps engineers automate repetitive tasks, manage complex environments, and ensure consistency across multiple servers.
Ansible Overview:
Agentless Architecture: Ansible operates without needing any software installed on the target machines (nodes). It uses SSH for communication. Playbooks: Automation tasks are defined in YAML files called playbooks, which are easy to read and write. Modules: Ansible has a vast collection of modules that perform specific tasks (e.g., installing packages, managing services). Use Cases:">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-09-14T09:21:04+10:00">
    <meta property="article:modified_time" content="2024-09-14T09:21:04+10:00">
    <meta property="article:tag" content="Untagged">

  <meta itemprop="name" content="Ansible vs. Chef: A Comparison of Automation Tools">
  <meta itemprop="description" content="Ansible and Chef are popular automation tools used for configuration management, provisioning, and deployment of applications and infrastructure. They help system administrators and DevOps engineers automate repetitive tasks, manage complex environments, and ensure consistency across multiple servers.
Ansible Overview:
Agentless Architecture: Ansible operates without needing any software installed on the target machines (nodes). It uses SSH for communication. Playbooks: Automation tasks are defined in YAML files called playbooks, which are easy to read and write. Modules: Ansible has a vast collection of modules that perform specific tasks (e.g., installing packages, managing services). Use Cases:">
  <meta itemprop="datePublished" content="2024-09-14T09:21:04+10:00">
  <meta itemprop="dateModified" content="2024-09-14T09:21:04+10:00">
  <meta itemprop="wordCount" content="3454">
  <meta itemprop="keywords" content="Untagged">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Ansible vs. Chef: A Comparison of Automation Tools">
  <meta name="twitter:description" content="Ansible and Chef are popular automation tools used for configuration management, provisioning, and deployment of applications and infrastructure. They help system administrators and DevOps engineers automate repetitive tasks, manage complex environments, and ensure consistency across multiple servers.
Ansible Overview:
Agentless Architecture: Ansible operates without needing any software installed on the target machines (nodes). It uses SSH for communication. Playbooks: Automation tasks are defined in YAML files called playbooks, which are easy to read and write. Modules: Ansible has a vast collection of modules that perform specific tasks (e.g., installing packages, managing services). Use Cases:">

<link rel="stylesheet" href="http://localhost:1313/css/styles.8d8085f7db497b3f3b3071490f89d4ce22990b40da7e429db3a4bfbf559eb93c93a40c627e51f10b618139145d468ecfdccb9425643cc38726adff2ceaf5ad10.css" integrity="sha512-jYCF99tJez87MHFJD4nUziKZC0DafkKds6S/v1WeuTyTpAxiflHxC2GBORRdRo7P3MuUJWQ8w4cmrf8s6vWtEA==">
  <meta name="description" content="Ansible and Chef are popular automation tools used for configuration management, provisioning, and deployment of applications and infrastructure. They help system administrators and DevOps engineers automate repetitive tasks, manage complex environments, and ensure consistency across multiple servers.
Ansible Overview:
Agentless Architecture: Ansible operates without needing any software installed on the target machines (nodes). It uses SSH for communication. Playbooks: Automation tasks are defined in YAML files called playbooks, which are easy to read and write. Modules: Ansible has a vast collection of modules that perform specific tasks (e.g., installing packages, managing services). Use Cases:
">

</head>
<body class="page-page" id="pagetop">
  <header class="nav_header">
<nav class="wrap nav menu">
	<a href='http://localhost:1313/' class="nav_brand">
		<picture data-lit="http://localhost:1313/" data-dark="http://localhost:1313/">
			<img src="http://localhost:1313/" alt="docs Logo">
		</picture>
		<div class="nav_toggle toggle" title='Site Menu'><svg class="icon icon_harmburger">
  <use href="#harmburger"></use>
</svg>
		</div>
	</a>
	<ul class="nav_body">
		<li class="nav-item">
  <div class="search">
    <label for="find" class="search_label"><svg class="icon icon_search">
  <use href="#search"></use>
</svg>
    </label>
    
    <input type="search" class="search_field  standardize-input" placeholder="Search site" id="find" autocomplete="off" data-scope='posts'>
    <div class="search_results results"></div>
  </div>
		</li>
		<li class="nav-item"><div class=color_mode>
  <label for=mode></label>
  <input type="checkbox" class="color_choice standardize-input" id="mode" title="Toggle Dark Mode">
</div>
</li>
	</ul>
</nav>

  </header>
  <div class="main wrap pt-4">
      <div class="content">
<div class="content">
	<h1>Ansible vs. Chef: A Comparison of Automation Tools</h1>
	<p><strong>Ansible</strong> and <strong>Chef</strong> are popular automation tools used for configuration management, provisioning, and deployment of applications and infrastructure. They help system administrators and DevOps engineers automate repetitive tasks, manage complex environments, and ensure consistency across multiple servers.</p>
<hr>
<h3 id="ansible" class=link_owner>
  <strong>Ansible</strong>
  <a href="#ansible" class="link icon">
    <svg>
      <use xlink:href="#anchor-link"></use>
    </svg>
  </a>
</h3>
<p><strong>Overview:</strong></p>
<ul>
<li><strong>Agentless Architecture:</strong> Ansible operates without needing any software installed on the target machines (nodes). It uses SSH for communication.</li>
<li><strong>Playbooks:</strong> Automation tasks are defined in YAML files called playbooks, which are easy to read and write.</li>
<li><strong>Modules:</strong> Ansible has a vast collection of modules that perform specific tasks (e.g., installing packages, managing services).</li>
</ul>
<p><strong>Use Cases:</strong></p>
<ul>
<li>Automating application deployment.</li>
<li>Configuration management.</li>
<li>Orchestrating complex multi-tier workflows.</li>
<li>Provisioning cloud infrastructure.</li>
</ul>
<p><strong>Example Scenarios:</strong></p>
<h4 id="1-deploying-a-web-server" class=link_owner>
  <strong>1. Deploying a Web Server</strong>
  <a href="#1-deploying-a-web-server" class="link icon">
    <svg>
      <use xlink:href="#anchor-link"></use>
    </svg>
  </a>
</h4>
<p><em>Objective:</em> Install and configure Nginx on multiple servers.</p>
<p><strong>Inventory File (<code>hosts</code>):</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ini" data-lang="ini"><span style="display:flex;"><span><span style="color:#66d9ef">[webservers]</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">server1.example.com</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">server2.example.com</span>
</span></span></code></pre></div><p><strong>Playbook (<code>deploy_webserver.yml</code>):</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>---
</span></span><span style="display:flex;"><span>- <span style="color:#f92672">name</span>: <span style="color:#ae81ff">Deploy Nginx Web Server</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">hosts</span>: <span style="color:#ae81ff">webservers</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">become</span>: <span style="color:#66d9ef">yes</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">tasks</span>:
</span></span><span style="display:flex;"><span>    - <span style="color:#f92672">name</span>: <span style="color:#ae81ff">Install Nginx</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">apt</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">name</span>: <span style="color:#ae81ff">nginx</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">state</span>: <span style="color:#ae81ff">present</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">when</span>: <span style="color:#ae81ff">ansible_os_family == &#34;Debian&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    - <span style="color:#f92672">name</span>: <span style="color:#ae81ff">Ensure Nginx is running</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">service</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">name</span>: <span style="color:#ae81ff">nginx</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">state</span>: <span style="color:#ae81ff">started</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">enabled</span>: <span style="color:#66d9ef">yes</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    - <span style="color:#f92672">name</span>: <span style="color:#ae81ff">Copy Website Content</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">copy</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">src</span>: <span style="color:#ae81ff">/local/path/to/website/</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">dest</span>: <span style="color:#ae81ff">/var/www/html/</span>
</span></span></code></pre></div><p><strong>Command to Execute:</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>ansible-playbook -i hosts deploy_webserver.yml
</span></span></code></pre></div><h4 id="2-managing-users-across-multiple-servers" class=link_owner>
  <strong>2. Managing Users Across Multiple Servers</strong>
  <a href="#2-managing-users-across-multiple-servers" class="link icon">
    <svg>
      <use xlink:href="#anchor-link"></use>
    </svg>
  </a>
</h4>
<p><em>Objective:</em> Create a user named <code>deploy</code> on all application servers.</p>
<p><strong>Inventory File (<code>hosts</code>):</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ini" data-lang="ini"><span style="display:flex;"><span><span style="color:#66d9ef">[appservers]</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">app1.example.com</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">app2.example.com</span>
</span></span></code></pre></div><p><strong>Playbook (<code>manage_users.yml</code>):</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>---
</span></span><span style="display:flex;"><span>- <span style="color:#f92672">name</span>: <span style="color:#ae81ff">Manage Users</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">hosts</span>: <span style="color:#ae81ff">appservers</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">become</span>: <span style="color:#66d9ef">yes</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">tasks</span>:
</span></span><span style="display:flex;"><span>    - <span style="color:#f92672">name</span>: <span style="color:#ae81ff">Ensure &#39;deploy&#39; user exists</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">user</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">name</span>: <span style="color:#ae81ff">deploy</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">state</span>: <span style="color:#ae81ff">present</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">groups</span>: <span style="color:#ae81ff">sudo</span>
</span></span></code></pre></div><h4 id="3-updating-system-packages" class=link_owner>
  <strong>3. Updating System Packages</strong>
  <a href="#3-updating-system-packages" class="link icon">
    <svg>
      <use xlink:href="#anchor-link"></use>
    </svg>
  </a>
</h4>
<p><em>Objective:</em> Update all packages on all servers.</p>
<p><strong>Playbook (<code>update_packages.yml</code>):</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>---
</span></span><span style="display:flex;"><span>- <span style="color:#f92672">name</span>: <span style="color:#ae81ff">Update Packages</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">hosts</span>: <span style="color:#ae81ff">all</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">become</span>: <span style="color:#66d9ef">yes</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">tasks</span>:
</span></span><span style="display:flex;"><span>    - <span style="color:#f92672">name</span>: <span style="color:#ae81ff">Update apt cache and upgrade all packages</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">apt</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">update_cache</span>: <span style="color:#66d9ef">yes</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">upgrade</span>: <span style="color:#ae81ff">dist</span>
</span></span></code></pre></div><hr>
<h3 id="chef" class=link_owner>
  <strong>Chef</strong>
  <a href="#chef" class="link icon">
    <svg>
      <use xlink:href="#anchor-link"></use>
    </svg>
  </a>
</h3>
<p><strong>Overview:</strong></p>
<ul>
<li><strong>Client-Server Architecture:</strong> Chef uses a central server where configurations are stored, and clients pull configurations from it.</li>
<li><strong>Recipes and Cookbooks:</strong> Configuration details are written in Ruby-based DSL in units called recipes, grouped into cookbooks.</li>
<li><strong>Resources:</strong> Chef provides resources that describe a particular piece of the system (e.g., packages, services).</li>
</ul>
<p><strong>Use Cases:</strong></p>
<ul>
<li>Managing complex configurations.</li>
<li>Enforcing system policies.</li>
<li>Automating cloud provisioning.</li>
<li>Continuous deployment and delivery.</li>
</ul>
<p><strong>Example Scenarios:</strong></p>
<h4 id="1-setting-up-a-database-server" class=link_owner>
  <strong>1. Setting Up a Database Server</strong>
  <a href="#1-setting-up-a-database-server" class="link icon">
    <svg>
      <use xlink:href="#anchor-link"></use>
    </svg>
  </a>
</h4>
<p><em>Objective:</em> Install and configure MySQL server.</p>
<p><strong>Create a Cookbook (<code>database</code>):</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>chef generate cookbook database
</span></span></code></pre></div><p><strong>Recipe (<code>recipes/default.rb</code>):</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ruby" data-lang="ruby"><span style="display:flex;"><span>package <span style="color:#e6db74">&#39;mysql-server&#39;</span> <span style="color:#66d9ef">do</span>
</span></span><span style="display:flex;"><span>  action <span style="color:#e6db74">:install</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">end</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>service <span style="color:#e6db74">&#39;mysql&#39;</span> <span style="color:#66d9ef">do</span>
</span></span><span style="display:flex;"><span>  action <span style="color:#f92672">[</span><span style="color:#e6db74">:enable</span>, <span style="color:#e6db74">:start</span><span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">end</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>execute <span style="color:#e6db74">&#39;Set root password&#39;</span> <span style="color:#66d9ef">do</span>
</span></span><span style="display:flex;"><span>  command <span style="color:#e6db74">&#34;mysqladmin -u root password &#39;secure_password&#39;&#34;</span>
</span></span><span style="display:flex;"><span>  only_if <span style="color:#e6db74">&#34;mysql -u root -e &#39;show databases;&#39;&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">end</span>
</span></span></code></pre></div><p><strong>Upload Cookbook to Chef Server:</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>knife cookbook upload database
</span></span></code></pre></div><p><strong>Assign Cookbook to Node&rsquo;s Run List:</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>knife node run_list add node_name <span style="color:#e6db74">&#39;recipe[database]&#39;</span>
</span></span></code></pre></div><h4 id="2-configuring-a-load-balancer" class=link_owner>
  <strong>2. Configuring a Load Balancer</strong>
  <a href="#2-configuring-a-load-balancer" class="link icon">
    <svg>
      <use xlink:href="#anchor-link"></use>
    </svg>
  </a>
</h4>
<p><em>Objective:</em> Install and configure HAProxy as a load balancer.</p>
<p><strong>Recipe (<code>recipes/default.rb</code>):</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ruby" data-lang="ruby"><span style="display:flex;"><span>package <span style="color:#e6db74">&#39;haproxy&#39;</span> <span style="color:#66d9ef">do</span>
</span></span><span style="display:flex;"><span>  action <span style="color:#e6db74">:install</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">end</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>template <span style="color:#e6db74">&#39;/etc/haproxy/haproxy.cfg&#39;</span> <span style="color:#66d9ef">do</span>
</span></span><span style="display:flex;"><span>  source <span style="color:#e6db74">&#39;haproxy.cfg.erb&#39;</span>
</span></span><span style="display:flex;"><span>  notifies <span style="color:#e6db74">:restart</span>, <span style="color:#e6db74">&#39;service[haproxy]&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">end</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>service <span style="color:#e6db74">&#39;haproxy&#39;</span> <span style="color:#66d9ef">do</span>
</span></span><span style="display:flex;"><span>  action <span style="color:#f92672">[</span><span style="color:#e6db74">:enable</span>, <span style="color:#e6db74">:start</span><span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">end</span>
</span></span></code></pre></div><p><strong>Template (<code>templates/default/haproxy.cfg.erb</code>):</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cfg" data-lang="cfg"><span style="display:flex;"><span><span style="color:#a6e22e">global</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">daemon</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">maxconn 256</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">defaults</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">mode http</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">timeout connect 5000ms</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">timeout client 50000ms</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">timeout server 50000ms</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">frontend http-in</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">bind *:80</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">default_backend servers</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">backend servers</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">balance roundrobin</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">&lt;% @nodes.each do |node| %&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">server &lt;%</span><span style="color:#f92672">=</span> <span style="color:#e6db74">node[&#39;hostname&#39;] %&gt; &lt;%= node[&#39;ipaddress&#39;] %&gt;:80 maxconn 32
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    &lt;% end %&gt;</span>
</span></span></code></pre></div><h4 id="3-managing-system-timezone" class=link_owner>
  <strong>3. Managing System Timezone</strong>
  <a href="#3-managing-system-timezone" class="link icon">
    <svg>
      <use xlink:href="#anchor-link"></use>
    </svg>
  </a>
</h4>
<p><em>Objective:</em> Ensure all servers have the correct timezone set.</p>
<p><strong>Recipe (<code>recipes/default.rb</code>):</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ruby" data-lang="ruby"><span style="display:flex;"><span>file <span style="color:#e6db74">&#39;/etc/timezone&#39;</span> <span style="color:#66d9ef">do</span>
</span></span><span style="display:flex;"><span>  content <span style="color:#e6db74">&#39;Etc/UTC&#39;</span>
</span></span><span style="display:flex;"><span>  notifies <span style="color:#e6db74">:run</span>, <span style="color:#e6db74">&#39;execute[dpkg-reconfigure tzdata]&#39;</span>, <span style="color:#e6db74">:immediately</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">end</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>execute <span style="color:#e6db74">&#39;dpkg-reconfigure tzdata&#39;</span> <span style="color:#66d9ef">do</span>
</span></span><span style="display:flex;"><span>  action <span style="color:#e6db74">:nothing</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">end</span>
</span></span></code></pre></div><hr>
<h3 id="key-differences-between-ansible-and-chef" class=link_owner>
  <strong>Key Differences Between Ansible and Chef</strong>
  <a href="#key-differences-between-ansible-and-chef" class="link icon">
    <svg>
      <use xlink:href="#anchor-link"></use>
    </svg>
  </a>
</h3>
<ul>
<li><strong>Language:</strong> Ansible uses YAML for playbooks, making it straightforward and readable. Chef uses Ruby DSL, which may have a steeper learning curve if you&rsquo;re not familiar with Ruby.</li>
<li><strong>Architecture:</strong> Ansible is agentless and uses push-based architecture. Chef requires an agent on each node and uses a pull-based model.</li>
<li><strong>Learning Curve:</strong> Ansible is generally considered easier for beginners due to its simplicity.</li>
</ul>
<hr>
<h3 id="getting-started-tips" class=link_owner>
  <strong>Getting Started Tips</strong>
  <a href="#getting-started-tips" class="link icon">
    <svg>
      <use xlink:href="#anchor-link"></use>
    </svg>
  </a>
</h3>
<p><strong>For Ansible:</strong></p>
<ol>
<li>
<p><strong>Install Ansible:</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo apt update
</span></span><span style="display:flex;"><span>sudo apt install ansible
</span></span></code></pre></div></li>
<li>
<p><strong>Set Up SSH Access:</strong> Ensure you have SSH access to your nodes from the control machine.</p>
</li>
<li>
<p><strong>Create an Inventory File:</strong> Define your hosts and groups.</p>
</li>
<li>
<p><strong>Write Simple Playbooks:</strong> Start with basic tasks like installing packages or creating files.</p>
</li>
<li>
<p><strong>Run Playbooks:</strong> Use <code>ansible-playbook</code> command to execute your playbooks.</p>
</li>
</ol>
<p><strong>For Chef:</strong></p>
<ol>
<li>
<p><strong>Install Chef Development Kit (ChefDK):</strong></p>
<p>Download from <a href="https://downloads.chef.io/tools/chefdk">Chef Downloads</a>.</p>
</li>
<li>
<p><strong>Set Up Chef Server or Use Hosted Chef:</strong> You need a Chef server for storing cookbooks and managing nodes.</p>
</li>
<li>
<p><strong>Configure Workstation:</strong></p>
<ul>
<li>Install the <code>knife</code> command-line tool.</li>
<li>Set up your <code>knife.rb</code> configuration.</li>
</ul>
</li>
<li>
<p><strong>Bootstrap Nodes:</strong> Install the Chef client on nodes using the <code>knife bootstrap</code> command.</p>
</li>
<li>
<p><strong>Create Cookbooks and Recipes:</strong> Use <code>chef generate cookbook</code> to start.</p>
</li>
<li>
<p><strong>Upload Cookbooks:</strong> Use <code>knife cookbook upload</code> to send your cookbooks to the Chef server.</p>
</li>
</ol>
<hr>
<h3 id="additional-resources" class=link_owner>
  <strong>Additional Resources</strong>
  <a href="#additional-resources" class="link icon">
    <svg>
      <use xlink:href="#anchor-link"></use>
    </svg>
  </a>
</h3>
<ul>
<li><strong>Ansible Documentation:</strong> <a href="https://docs.ansible.com/">https://docs.ansible.com/</a></li>
<li><strong>Ansible Examples:</strong> <a href="https://github.com/ansible/ansible-examples">Ansible GitHub Examples</a></li>
<li><strong>Chef Documentation:</strong> <a href="https://docs.chef.io/">https://docs.chef.io/</a></li>
<li><strong>Learn Chef Tutorials:</strong> <a href="https://learn.chef.io/">https://learn.chef.io/</a></li>
</ul>
<hr>
<h3 id="conclusion" class=link_owner>
  <strong>Conclusion</strong>
  <a href="#conclusion" class="link icon">
    <svg>
      <use xlink:href="#anchor-link"></use>
    </svg>
  </a>
</h3>
<p>Both Ansible and Chef are powerful tools for automation and configuration management. Your choice between them may depend on factors like the size of your infrastructure, team expertise, and specific project requirements.</p>
<ul>
<li>
<p><strong>Use Ansible if:</strong></p>
<ul>
<li>You prefer an agentless system.</li>
<li>You want simplicity and quick setup.</li>
<li>You&rsquo;re working in environments where installing agents is not feasible.</li>
</ul>
</li>
<li>
<p><strong>Use Chef if:</strong></p>
<ul>
<li>You have a large, complex infrastructure.</li>
<li>You need a robust pull-based configuration management system.</li>
<li>You&rsquo;re comfortable with Ruby or willing to learn.</li>
</ul>
</li>
</ul>
<hr>
<h3 id="next-steps" class=link_owner>
  <strong>Next Steps</strong>
  <a href="#next-steps" class="link icon">
    <svg>
      <use xlink:href="#anchor-link"></use>
    </svg>
  </a>
</h3>
<ul>
<li>
<p><strong>Hands-On Practice:</strong> Set up a lab environment using virtual machines or cloud instances to practice.</p>
</li>
<li>
<p><strong>Join Communities:</strong></p>
<ul>
<li><strong>Ansible Mailing List:</strong> <a href="https://groups.google.com/g/ansible-project">Ansible Project Mailing List</a></li>
<li><strong>Chef Community Slack:</strong> <a href="https://community-slack.chef.io/">Community Slack Sign-Up</a></li>
</ul>
</li>
<li>
<p><strong>Explore Modules and Resources:</strong></p>
<ul>
<li><strong>Ansible Galaxy:</strong> Repository for Ansible roles (<a href="https://galaxy.ansible.com/">https://galaxy.ansible.com/</a>)</li>
<li><strong>Supermarket:</strong> Chef community cookbooks (<a href="https://supermarket.chef.io/">https://supermarket.chef.io/</a>)</li>
</ul>
</li>
</ul>
<p>By starting with simple tasks and gradually exploring more complex scenarios, you&rsquo;ll build a solid understanding of how these tools can streamline your workflow and enhance your infrastructure management capabilities.</p>
<h2 id="ansible-playbooks-how-they-work" class=link_owner>
  <strong>Ansible Playbooks: How They Work</strong>
  <a href="#ansible-playbooks-how-they-work" class="link icon">
    <svg>
      <use xlink:href="#anchor-link"></use>
    </svg>
  </a>
</h2>
<p>Understanding how Ansible playbooks determine what actions to perform is key to using Ansible effectively.</p>
<h3 id="ansible-playbooks-and-modules" class=link_owner>
  <strong>Ansible Playbooks and Modules</strong>
  <a href="#ansible-playbooks-and-modules" class="link icon">
    <svg>
      <use xlink:href="#anchor-link"></use>
    </svg>
  </a>
</h3>
<p>In Ansible, a <strong>playbook</strong> is a YAML file that contains one or more <strong>plays</strong>. Each play applies to a group of hosts and includes a series of <strong>tasks</strong>. Each task uses a specific <strong>module</strong> to perform an action.</p>
<p><strong>Modules</strong> are the building blocks in Ansible that actually execute tasks on the target systems. They are essentially small programs that perform a specific action, like installing a package, copying a file, or managing services.</p>
<p>So, in Ansible, it&rsquo;s not the name of the playbook that determines what actions are performed, but rather the tasks within the playbook and the modules they use.</p>
<h3 id="how-ansible-knows-what-to-do" class=link_owner>
  <strong>How Ansible Knows What to Do</strong>
  <a href="#how-ansible-knows-what-to-do" class="link icon">
    <svg>
      <use xlink:href="#anchor-link"></use>
    </svg>
  </a>
</h3>
<p>Here&rsquo;s how Ansible knows what to do when you run a playbook:</p>
<ol>
<li>
<p><strong>Playbook Execution:</strong></p>
<ul>
<li>When you run a playbook using <code>ansible-playbook</code>, Ansible reads the YAML file and parses the plays and tasks.</li>
</ul>
</li>
<li>
<p><strong>Hosts and Plays:</strong></p>
<ul>
<li>Each play targets specific hosts or groups defined in your inventory.</li>
</ul>
</li>
<li>
<p><strong>Tasks and Modules:</strong></p>
<ul>
<li>Each task within a play specifies a module and the parameters for that module.</li>
<li>The task tells Ansible <strong>what module to run</strong> and <strong>how to run it</strong>.</li>
</ul>
</li>
<li>
<p><strong>Module Execution:</strong></p>
<ul>
<li>Ansible executes the module on the target hosts using SSH (or WinRM for Windows).</li>
<li>The module performs the action defined by the task.</li>
</ul>
</li>
</ol>
<h3 id="example-breakdown" class=link_owner>
  <strong>Example Breakdown</strong>
  <a href="#example-breakdown" class="link icon">
    <svg>
      <use xlink:href="#anchor-link"></use>
    </svg>
  </a>
</h3>
<p>Let&rsquo;s look at an example task:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>- <span style="color:#f92672">name</span>: <span style="color:#ae81ff">Install Nginx</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">apt</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">name</span>: <span style="color:#ae81ff">nginx</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">state</span>: <span style="color:#ae81ff">present</span>
</span></span></code></pre></div><p><strong>Explanation:</strong></p>
<ul>
<li><strong>name:</strong> A description of the task (for readability).</li>
<li><strong>apt:</strong> The module to use (in this case, the <code>apt</code> module for Debian-based package management).</li>
<li><strong>parameters:</strong>
<ul>
<li><strong>name:</strong> The package to manage (<code>nginx</code>).</li>
<li><strong>state:</strong> The desired state (<code>present</code> means it should be installed).</li>
</ul>
</li>
</ul>
<p><strong>How Ansible Processes This Task:</strong></p>
<ul>
<li>Ansible sees that the <code>apt</code> module is used.</li>
<li>It knows that the <code>apt</code> module manages packages using the <code>apt</code> package manager.</li>
<li>Ansible calls the <code>apt</code> module with the specified parameters (<code>name=nginx</code>, <code>state=present</code>).</li>
<li>The module runs on the target host(s) and ensures that Nginx is installed.</li>
</ul>
<h3 id="comparing-to-chef" class=link_owner>
  <strong>Comparing to Chef</strong>
  <a href="#comparing-to-chef" class="link icon">
    <svg>
      <use xlink:href="#anchor-link"></use>
    </svg>
  </a>
</h3>
<p>In Chef, you write recipes using resources like <code>package</code>, <code>service</code>, etc., and Chef knows what to do based on the resource and the platform.</p>
<p>Similarly, in Ansible:</p>
<ul>
<li><strong>Modules</strong> are analogous to Chef resources.</li>
<li><strong>Tasks</strong> use modules to perform actions.</li>
<li>Ansible modules are often idempotent, meaning they can be run multiple times without changing the system after the first run (if the desired state is already achieved).</li>
</ul>
<h3 id="key-points" class=link_owner>
  <strong>Key Points</strong>
  <a href="#key-points" class="link icon">
    <svg>
      <use xlink:href="#anchor-link"></use>
    </svg>
  </a>
</h3>
<ul>
<li>
<p><strong>Modules Determine Actions:</strong></p>
<ul>
<li>The module specified in each task defines what action Ansible will perform.</li>
<li>Ansible has modules for a wide range of tasks (e.g., <code>apt</code>, <code>yum</code>, <code>service</code>, <code>copy</code>, <code>file</code>, <code>user</code>).</li>
</ul>
</li>
<li>
<p><strong>Parameters Customize Behavior:</strong></p>
<ul>
<li>Parameters passed to the module control how the module behaves.</li>
<li>They specify things like package names, file paths, service states, etc.</li>
</ul>
</li>
<li>
<p><strong>Playbook Structure:</strong></p>
<ul>
<li>A playbook contains plays.</li>
<li>Each play targets hosts and includes tasks.</li>
<li>Tasks are executed in order.</li>
</ul>
</li>
</ul>
<h3 id="an-example-playbook-explained" class=link_owner>
  <strong>An Example Playbook Explained</strong>
  <a href="#an-example-playbook-explained" class="link icon">
    <svg>
      <use xlink:href="#anchor-link"></use>
    </svg>
  </a>
</h3>
<p>Let&rsquo;s write a simple playbook and break it down:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>---
</span></span><span style="display:flex;"><span>- <span style="color:#f92672">name</span>: <span style="color:#ae81ff">Setup Web Servers</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">hosts</span>: <span style="color:#ae81ff">webservers</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">become</span>: <span style="color:#66d9ef">yes</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">tasks</span>:
</span></span><span style="display:flex;"><span>    - <span style="color:#f92672">name</span>: <span style="color:#ae81ff">Install Nginx</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">apt</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">name</span>: <span style="color:#ae81ff">nginx</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">state</span>: <span style="color:#ae81ff">present</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    - <span style="color:#f92672">name</span>: <span style="color:#ae81ff">Start Nginx Service</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">service</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">name</span>: <span style="color:#ae81ff">nginx</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">state</span>: <span style="color:#ae81ff">started</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">enabled</span>: <span style="color:#66d9ef">yes</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    - <span style="color:#f92672">name</span>: <span style="color:#ae81ff">Deploy Website Content</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">copy</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">src</span>: <span style="color:#ae81ff">/local/path/to/index.html</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">dest</span>: <span style="color:#ae81ff">/var/www/html/index.html</span>
</span></span></code></pre></div><p><strong>Breakdown:</strong></p>
<ul>
<li>
<p><strong>Play Name:</strong> <code>Setup Web Servers</code> - Describes the purpose of the play.</p>
</li>
<li>
<p><strong>Hosts:</strong> <code>webservers</code> - Targets the group <code>webservers</code> in your inventory.</p>
</li>
<li>
<p><strong>Become:</strong> <code>yes</code> - Runs tasks with elevated privileges (e.g., <code>sudo</code>).</p>
</li>
<li>
<p><strong>Tasks:</strong></p>
<ol>
<li><strong>Install Nginx:</strong>
<ul>
<li><strong>Module:</strong> <code>apt</code></li>
<li><strong>Action:</strong> Ensures Nginx is installed.</li>
</ul>
</li>
<li><strong>Start Nginx Service:</strong>
<ul>
<li><strong>Module:</strong> <code>service</code></li>
<li><strong>Action:</strong> Starts and enables Nginx service.</li>
</ul>
</li>
<li><strong>Deploy Website Content:</strong>
<ul>
<li><strong>Module:</strong> <code>copy</code></li>
<li><strong>Action:</strong> Copies a local file to the target server.</li>
</ul>
</li>
</ol>
</li>
</ul>
<h3 id="understanding-modules-and-documentation" class=link_owner>
  <strong>Understanding Modules and Documentation</strong>
  <a href="#understanding-modules-and-documentation" class="link icon">
    <svg>
      <use xlink:href="#anchor-link"></use>
    </svg>
  </a>
</h3>
<p>Ansible has extensive documentation for each module, explaining:</p>
<ul>
<li>What the module does.</li>
<li>Required and optional parameters.</li>
<li>Examples of usage.</li>
</ul>
<p><strong>Example: <code>apt</code> Module Documentation</strong></p>
<ul>
<li><strong>Description:</strong> Manages packages with the <code>apt</code> package manager.</li>
<li><strong>Common Parameters:</strong>
<ul>
<li><code>name</code>: Name of the package.</li>
<li><code>state</code>: Desired state (<code>present</code>, <code>absent</code>, <code>latest</code>).</li>
</ul>
</li>
</ul>
<h3 id="finding-the-right-module" class=link_owner>
  <strong>Finding the Right Module</strong>
  <a href="#finding-the-right-module" class="link icon">
    <svg>
      <use xlink:href="#anchor-link"></use>
    </svg>
  </a>
</h3>
<p>When writing a playbook:</p>
<ol>
<li>
<p><strong>Identify the Task:</strong></p>
<ul>
<li>What do you want to achieve? Install a package? Copy a file? Manage a user?</li>
</ul>
</li>
<li>
<p><strong>Find the Appropriate Module:</strong></p>
<ul>
<li>Look for a module that handles that task.</li>
<li>Use Ansible&rsquo;s documentation or <code>ansible-doc</code> command.</li>
</ul>
</li>
<li>
<p><strong>Use the Module in a Task:</strong></p>
<ul>
<li>Specify the module and provide necessary parameters.</li>
</ul>
</li>
</ol>
<h3 id="ansibles-ansible-doc-command" class=link_owner>
  <strong>Ansible&rsquo;s <code>ansible-doc</code> Command</strong>
  <a href="#ansibles-ansible-doc-command" class="link icon">
    <svg>
      <use xlink:href="#anchor-link"></use>
    </svg>
  </a>
</h3>
<p>You can use the <code>ansible-doc</code> command to get information about modules:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>ansible-doc apt
</span></span></code></pre></div><p>This command displays detailed information about the <code>apt</code> module.</p>
<h3 id="conclusion-1" class=link_owner>
  <strong>Conclusion</strong>
  <a href="#conclusion-1" class="link icon">
    <svg>
      <use xlink:href="#anchor-link"></use>
    </svg>
  </a>
</h3>
<ul>
<li><strong>Playbook Names:</strong> The name of a playbook is for your reference and organization; it doesn&rsquo;t influence what actions are performed.</li>
<li><strong>Tasks and Modules:</strong> The modules specified in tasks tell Ansible exactly what to do.</li>
<li><strong>Under the Hood:</strong> Ansible modules contain the logic to perform actions on target systems.</li>
<li><strong>Modules Are Key:</strong> Understanding which module to use for a given task is essential.</li>
</ul>
<h3 id="next-steps-1" class=link_owner>
  <strong>Next Steps</strong>
  <a href="#next-steps-1" class="link icon">
    <svg>
      <use xlink:href="#anchor-link"></use>
    </svg>
  </a>
</h3>
<ul>
<li>
<p><strong>Explore Modules:</strong></p>
<ul>
<li>Browse Ansible&rsquo;s <a href="https://docs.ansible.com/ansible/latest/collections/index_module.html">module index</a> to familiarize yourself with available modules.</li>
</ul>
</li>
<li>
<p><strong>Practice Writing Tasks:</strong></p>
<ul>
<li>Start with simple tasks and gradually incorporate more complex modules and parameters.</li>
</ul>
</li>
<li>
<p><strong>Use <code>ansible-doc</code>:</strong></p>
<ul>
<li>Leverage <code>ansible-doc</code> to get quick access to module documentation from the command line.</li>
</ul>
</li>
</ul>
<h3 id="example-of-finding-and-using-a-module" class=link_owner>
  <strong>Example of Finding and Using a Module</strong>
  <a href="#example-of-finding-and-using-a-module" class="link icon">
    <svg>
      <use xlink:href="#anchor-link"></use>
    </svg>
  </a>
</h3>
<p>Suppose you want to manage firewall rules. Here&rsquo;s how you might proceed:</p>
<ol>
<li>
<p><strong>Identify the Task:</strong></p>
<ul>
<li>Manage firewall rules using <code>ufw</code> (Uncomplicated Firewall) on Ubuntu.</li>
</ul>
</li>
<li>
<p><strong>Find the Module:</strong></p>
<ul>
<li>Search for a module that manages <code>ufw</code>.</li>
<li>Find the <code>ufw</code> module.</li>
</ul>
</li>
<li>
<p><strong>Read Module Documentation:</strong></p>
<ul>
<li>Use <code>ansible-doc ufw</code> to read about parameters and usage.</li>
</ul>
</li>
<li>
<p><strong>Write the Task:</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>- <span style="color:#f92672">name</span>: <span style="color:#ae81ff">Allow HTTP through UFW</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">ufw</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">rule</span>: <span style="color:#ae81ff">allow</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">port</span>: <span style="color:#e6db74">&#39;80&#39;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">proto</span>: <span style="color:#ae81ff">tcp</span>
</span></span></code></pre></div></li>
</ol>
<h3 id="summary" class=link_owner>
  <strong>Summary</strong>
  <a href="#summary" class="link icon">
    <svg>
      <use xlink:href="#anchor-link"></use>
    </svg>
  </a>
</h3>
<ul>
<li><strong>Ansible Playbooks:</strong> YAML files that define plays and tasks.</li>
<li><strong>Tasks Use Modules:</strong> Each task specifies a module that performs an action.</li>
<li><strong>Modules Contain Logic:</strong> Modules know how to perform actions on different systems.</li>
<li><strong>Parameters Define Behavior:</strong> Parameters passed to modules customize their actions.</li>
</ul>
<p>By understanding that modules are the core of how Ansible executes tasks, and that tasks specify which modules to use and how to use them, you can write effective playbooks to automate your infrastructure management.</p>
<h2 id="how-can-we-spin-up-new-virtual-machines-with-chef-without-having-the-client-installed-on-the-server" class=link_owner>
  <strong>How can we spin up new virtual machines with Chef without having the client installed on the server?</strong>
  <a href="#how-can-we-spin-up-new-virtual-machines-with-chef-without-having-the-client-installed-on-the-server" class="link icon">
    <svg>
      <use xlink:href="#anchor-link"></use>
    </svg>
  </a>
</h2>
<p>That&rsquo;s an insightful question, and I&rsquo;d be happy to clarify how Chef can be used to provision new virtual machines, even though it traditionally requires a Chef client to be installed on the nodes it manages.</p>
<hr>
<h3 id="understanding-chefs-capabilities" class=link_owner>
  <strong>Understanding Chef&rsquo;s Capabilities</strong>
  <a href="#understanding-chefs-capabilities" class="link icon">
    <svg>
      <use xlink:href="#anchor-link"></use>
    </svg>
  </a>
</h3>
<p>Chef is not just a configuration management tool; it&rsquo;s a comprehensive automation platform that supports infrastructure provisioning, configuration management, and application deployment. While it&rsquo;s true that the Chef client needs to be installed on nodes for configuration management, Chef provides mechanisms to <strong>provision</strong> new infrastructure and <strong>bootstrap</strong> nodes by installing the Chef client during the provisioning process.</p>
<hr>
<h3 id="provisioning-new-virtual-machines-with-chef" class=link_owner>
  <strong>Provisioning New Virtual Machines with Chef</strong>
  <a href="#provisioning-new-virtual-machines-with-chef" class="link icon">
    <svg>
      <use xlink:href="#anchor-link"></use>
    </svg>
  </a>
</h3>
<h4 id="1-chef-provisioning-formerly-chef-metal" class=link_owner>
  <strong>1. Chef Provisioning (Formerly Chef Metal)</strong>
  <a href="#1-chef-provisioning-formerly-chef-metal" class="link icon">
    <svg>
      <use xlink:href="#anchor-link"></use>
    </svg>
  </a>
</h4>
<p><strong>Chef Provisioning</strong> is an extension to Chef that allows you to describe and manage infrastructure resources alongside your application code and system configurations. It provides resources that let you manage machines and machine-related entities (like load balancers, security groups) in your Chef recipes.</p>
<p><strong>Key Features:</strong></p>
<ul>
<li><strong>Write Recipes to Provision Resources:</strong> Use the same Ruby DSL to define machines, their configurations, and dependencies.</li>
<li><strong>Multiple Drivers:</strong> Supports various drivers for different platforms (e.g., AWS, Azure, Docker, Vagrant).</li>
<li><strong>Integration with Chef Client:</strong> Machines provisioned are automatically bootstrapped with the Chef client.</li>
</ul>
<p><strong>Example Recipe Using Chef Provisioning:</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ruby" data-lang="ruby"><span style="display:flex;"><span>require <span style="color:#e6db74">&#39;chef/provisioning&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>with_driver <span style="color:#e6db74">&#39;aws::us-west-2&#39;</span>  <span style="color:#75715e"># Specify the AWS region</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">1</span><span style="color:#f92672">.</span>upto(<span style="color:#ae81ff">200</span>) <span style="color:#66d9ef">do</span> <span style="color:#f92672">|</span>i<span style="color:#f92672">|</span>
</span></span><span style="display:flex;"><span>  machine <span style="color:#e6db74">&#34;web-server-</span><span style="color:#e6db74">#{</span>i<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span> <span style="color:#66d9ef">do</span>
</span></span><span style="display:flex;"><span>    machine_options <span style="color:#e6db74">bootstrap_options</span>: {
</span></span><span style="display:flex;"><span>      <span style="color:#e6db74">image_id</span>: <span style="color:#e6db74">&#39;ami-0abcdef1234567890&#39;</span>,  <span style="color:#75715e"># CentOS AMI ID</span>
</span></span><span style="display:flex;"><span>      <span style="color:#e6db74">instance_type</span>: <span style="color:#e6db74">&#39;t2.medium&#39;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#e6db74">key_name</span>: <span style="color:#e6db74">&#39;my-ssh-key&#39;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#e6db74">security_group_ids</span>: <span style="color:#f92672">[</span><span style="color:#e6db74">&#39;sg-0123456789abcdef0&#39;</span><span style="color:#f92672">]</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#e6db74">subnet_id</span>: <span style="color:#e6db74">&#39;subnet-0123456789abcdef0&#39;</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    run_list <span style="color:#f92672">[</span><span style="color:#e6db74">&#39;recipe[apache]&#39;</span><span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">end</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">end</span>
</span></span></code></pre></div><ul>
<li><strong>What This Does:</strong>
<ul>
<li><strong>Loops 200 Times:</strong> Creates 200 virtual machines.</li>
<li><strong>Defines Machine Options:</strong> Specifies details like AMI ID, instance type, SSH key, etc.</li>
<li><strong>Applies Run List:</strong> Each machine runs the <code>apache</code> recipe to install and configure Apache.</li>
<li><strong>Bootstraps Nodes:</strong> Installs the Chef client on each machine during provisioning.</li>
</ul>
</li>
</ul>
<h4 id="2-knife-plugins-and-cloud-integration" class=link_owner>
  <strong>2. Knife Plugins and Cloud Integration</strong>
  <a href="#2-knife-plugins-and-cloud-integration" class="link icon">
    <svg>
      <use xlink:href="#anchor-link"></use>
    </svg>
  </a>
</h4>
<p><strong>Knife</strong> is the command-line tool that interfaces with the Chef server from your workstation. Knife has plugins that allow you to interact with cloud providers, enabling you to create and manage cloud resources directly.</p>
<p><strong>Common Knife Plugins:</strong></p>
<ul>
<li><strong>Knife EC2:</strong> Interact with AWS EC2 instances.</li>
<li><strong>Knife Azure:</strong> Manage Azure resources.</li>
<li><strong>Knife Google:</strong> Work with Google Cloud Platform.</li>
</ul>
<p><strong>Example Using Knife EC2:</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>knife ec2 server create <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  --image ami-0abcdef1234567890 <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  --instance-type t2.medium <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  --ssh-key my-ssh-key <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  --security-group-ids sg-0123456789abcdef0 <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  --subnet subnet-0123456789abcdef0 <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  --associate-public-ip <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  --node-name <span style="color:#e6db74">&#34;web-server-1&#34;</span> <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  --run-list <span style="color:#e6db74">&#39;recipe[apache]&#39;</span>
</span></span></code></pre></div><ul>
<li><strong>What This Does:</strong>
<ul>
<li><strong>Creates an EC2 Instance:</strong> Based on the specified AMI and instance type.</li>
<li><strong>Bootstraps the Node:</strong> Installs the Chef client.</li>
<li><strong>Applies the Run List:</strong> Configures the node according to the specified recipes.</li>
</ul>
</li>
</ul>
<p><strong>Scaling to 200 Instances:</strong></p>
<ul>
<li><strong>Scripting:</strong> Write a shell script or use a loop to repeat the command 200 times with unique node names.</li>
<li><strong>Automation Tools:</strong> Use tools like GNU Parallel or write a custom script in Ruby or Python.</li>
</ul>
<h4 id="3-integration-with-other-provisioning-tools" class=link_owner>
  <strong>3. Integration with Other Provisioning Tools</strong>
  <a href="#3-integration-with-other-provisioning-tools" class="link icon">
    <svg>
      <use xlink:href="#anchor-link"></use>
    </svg>
  </a>
</h4>
<p>Chef can work in tandem with other infrastructure-as-code tools:</p>
<ul>
<li><strong>Terraform:</strong> Use Terraform to provision infrastructure and then use Chef to configure it.</li>
<li><strong>CloudFormation (AWS):</strong> Deploy stacks that include bootstrapping scripts to install the Chef client.</li>
<li><strong>Packer:</strong> Create machine images that have the Chef client pre-installed.</li>
</ul>
<hr>
<h3 id="bootstrapping-nodes-with-chef" class=link_owner>
  <strong>Bootstrapping Nodes with Chef</strong>
  <a href="#bootstrapping-nodes-with-chef" class="link icon">
    <svg>
      <use xlink:href="#anchor-link"></use>
    </svg>
  </a>
</h3>
<p><strong>Bootstrapping</strong> is the process of installing the Chef client on a node and configuring it to communicate with the Chef server.</p>
<p><strong>How Bootstrapping Works:</strong></p>
<ol>
<li><strong>Initiate Bootstrap:</strong>
<ul>
<li>When you provision a new machine, you initiate the bootstrap process.</li>
</ul>
</li>
<li><strong>Install Chef Client:</strong>
<ul>
<li>The bootstrap script connects to the machine (usually over SSH) and installs the Chef client.</li>
</ul>
</li>
<li><strong>Register with Chef Server:</strong>
<ul>
<li>The node obtains validation keys and registers itself with the Chef server.</li>
</ul>
</li>
<li><strong>Apply Run List:</strong>
<ul>
<li>The Chef client runs the initial run list to configure the node.</li>
</ul>
</li>
</ol>
<p><strong>Bootstrapping Methods:</strong></p>
<ul>
<li>
<p><strong>Knife Bootstrap Command:</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>knife bootstrap &lt;IP_ADDRESS&gt; <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  --ssh-user centos <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  --sudo <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  --identity-file ~/.ssh/my-ssh-key.pem <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  --node-name <span style="color:#e6db74">&#34;web-server-1&#34;</span> <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  --run-list <span style="color:#e6db74">&#39;recipe[apache]&#39;</span>
</span></span></code></pre></div></li>
<li>
<p><strong>Cloud Init Scripts:</strong></p>
<ul>
<li>Use cloud-init or user data scripts to install the Chef client when the instance launches.</li>
</ul>
</li>
<li>
<p><strong>Pre-baked Images:</strong></p>
<ul>
<li>Use images (AMIs) that already have the Chef client installed.</li>
</ul>
</li>
</ul>
<hr>
<h3 id="answering-your-question-directly" class=link_owner>
  <strong>Answering Your Question Directly</strong>
  <a href="#answering-your-question-directly" class="link icon">
    <svg>
      <use xlink:href="#anchor-link"></use>
    </svg>
  </a>
</h3>
<p><strong>Q: If Chef needs the client to be installed on the server, how can we spin up new virtual machines?</strong></p>
<ul>
<li><strong>Chef Can Provision and Bootstrap Simultaneously:</strong>
<ul>
<li>Chef provides tools (like Chef Provisioning and Knife plugins) that can both create new virtual machines and install the Chef client on them as part of the same process.</li>
</ul>
</li>
<li><strong>Automation of Client Installation:</strong>
<ul>
<li>The installation of the Chef client (bootstrapping) is automated during the provisioning step, so you don&rsquo;t need to manually install it on each new VM.</li>
</ul>
</li>
<li><strong>Infrastructure as Code:</strong>
<ul>
<li>By defining your infrastructure in code (Chef recipes or scripts), you can automate the creation and configuration of resources at scale.</li>
</ul>
</li>
</ul>
<hr>
<h3 id="putting-it-all-together" class=link_owner>
  <strong>Putting It All Together</strong>
  <a href="#putting-it-all-together" class="link icon">
    <svg>
      <use xlink:href="#anchor-link"></use>
    </svg>
  </a>
</h3>
<p>Let&rsquo;s consider the full workflow to spin up 200 CentOS virtual machines running Apache:</p>
<ol>
<li>
<p><strong>Write a Chef Recipe or Script:</strong></p>
<ul>
<li>Use Chef Provisioning or a script that utilizes Knife to define the desired state of your infrastructure.</li>
</ul>
</li>
<li>
<p><strong>Provision VMs:</strong></p>
<ul>
<li>The recipe or script creates the VMs using cloud provider APIs.</li>
<li>For on-premises virtualization, integrate with tools like Vagrant or VMware drivers.</li>
</ul>
</li>
<li>
<p><strong>Bootstrap VMs:</strong></p>
<ul>
<li>During provisioning, each VM is bootstrapped:
<ul>
<li>Chef client is installed.</li>
<li>The node registers with the Chef server.</li>
<li>The initial run list is applied.</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Configure VMs:</strong></p>
<ul>
<li>The Chef client runs the specified recipes (e.g., installing Apache).</li>
<li>Any subsequent changes to the recipes or run lists can be applied by re-running the Chef client on the nodes.</li>
</ul>
</li>
</ol>
<hr>
<h3 id="alternative-approaches" class=link_owner>
  <strong>Alternative Approaches</strong>
  <a href="#alternative-approaches" class="link icon">
    <svg>
      <use xlink:href="#anchor-link"></use>
    </svg>
  </a>
</h3>
<h4 id="using-terraform-with-chef" class=link_owner>
  <strong>Using Terraform with Chef</strong>
  <a href="#using-terraform-with-chef" class="link icon">
    <svg>
      <use xlink:href="#anchor-link"></use>
    </svg>
  </a>
</h4>
<ul>
<li>
<p><strong>Provision with Terraform:</strong></p>
<ul>
<li>Use Terraform to create 200 VMs.</li>
<li>Terraform can execute provisioners that install the Chef client.</li>
</ul>
</li>
<li>
<p><strong>Bootstrap Nodes:</strong></p>
<ul>
<li>Use Terraform&rsquo;s remote-exec provisioner to run the bootstrap command.</li>
</ul>
</li>
<li>
<p><strong>Configure with Chef:</strong></p>
<ul>
<li>Once bootstrapped, nodes pull configurations from the Chef server.</li>
</ul>
</li>
</ul>
<h4 id="using-packer-to-create-a-custom-image" class=link_owner>
  <strong>Using Packer to Create a Custom Image</strong>
  <a href="#using-packer-to-create-a-custom-image" class="link icon">
    <svg>
      <use xlink:href="#anchor-link"></use>
    </svg>
  </a>
</h4>
<ul>
<li>
<p><strong>Build a Custom Image:</strong></p>
<ul>
<li>Use Packer to create a CentOS image with the Chef client pre-installed.</li>
</ul>
</li>
<li>
<p><strong>Deploy Instances:</strong></p>
<ul>
<li>Launch 200 VMs using this custom image.</li>
</ul>
</li>
<li>
<p><strong>Auto-Registration:</strong></p>
<ul>
<li>Configure the image to auto-register with the Chef server on first boot.</li>
</ul>
</li>
</ul>
<hr>
<h3 id="key-takeaways" class=link_owner>
  <strong>Key Takeaways</strong>
  <a href="#key-takeaways" class="link icon">
    <svg>
      <use xlink:href="#anchor-link"></use>
    </svg>
  </a>
</h3>
<ul>
<li><strong>Chef Supports Provisioning:</strong> Beyond configuration management, Chef can handle infrastructure provisioning through tools like Chef Provisioning and Knife plugins.</li>
<li><strong>Automated Bootstrapping:</strong> The Chef client can be installed automatically on new nodes during provisioning, so manual installation is not necessary.</li>
<li><strong>Infrastructure as Code:</strong> By defining infrastructure and configurations in code, you can automate large-scale deployments efficiently.</li>
<li><strong>Flexible Integration:</strong> Chef integrates well with other tools and cloud providers, allowing for a variety of provisioning strategies.</li>
</ul>
<hr>
<h3 id="next-steps-for-you" class=link_owner>
  <strong>Next Steps for You</strong>
  <a href="#next-steps-for-you" class="link icon">
    <svg>
      <use xlink:href="#anchor-link"></use>
    </svg>
  </a>
</h3>
<ol>
<li>
<p><strong>Explore Chef Provisioning:</strong></p>
<ul>
<li><strong>Documentation:</strong> <a href="https://docs.chef.io/provisioning/">Chef Provisioning Documentation</a></li>
<li><strong>Tutorials:</strong> Look for tutorials or guides specific to your cloud provider.</li>
</ul>
</li>
<li>
<p><strong>Learn About Knife Cloud Plugins:</strong></p>
<ul>
<li><strong>AWS:</strong> <a href="https://docs.chef.io/plugin_knife_ec2/">Knife EC2 Plugin</a></li>
<li><strong>Azure:</strong> <a href="https://docs.chef.io/plugin_knife_azure/">Knife Azure Plugin</a></li>
<li><strong>Google Cloud:</strong> <a href="https://github.com/chef/knife-google">Knife Google Plugin</a></li>
</ul>
</li>
<li>
<p><strong>Practice Bootstrapping Nodes:</strong></p>
<ul>
<li>Use the <code>knife bootstrap</code> command to get comfortable with the bootstrapping process.</li>
</ul>
</li>
<li>
<p><strong>Consider Complementary Tools:</strong></p>
<ul>
<li><strong>Terraform:</strong> For advanced infrastructure provisioning needs.</li>
<li><strong>Packer:</strong> For building custom machine images.</li>
</ul>
</li>
</ol>
<hr>
<h3 id="additional-resources-1" class=link_owner>
  <strong>Additional Resources</strong>
  <a href="#additional-resources-1" class="link icon">
    <svg>
      <use xlink:href="#anchor-link"></use>
    </svg>
  </a>
</h3>
<ul>
<li><strong>Chef Bootstrapping Guide:</strong> <a href="https://docs.chef.io/bootstrapping/">https://docs.chef.io/bootstrapping/</a></li>
<li><strong>Learn Chef Rally:</strong> Interactive learning modules for Chef. <a href="https://learn.chef.io/">https://learn.chef.io/</a></li>
<li><strong>Chef Community Slack:</strong> Join the community for support and discussion. <a href="https://community-slack.chef.io/">Community Slack Sign-Up</a></li>
</ul>
<hr>
<h3 id="conclusion-2" class=link_owner>
  <strong>Conclusion</strong>
  <a href="#conclusion-2" class="link icon">
    <svg>
      <use xlink:href="#anchor-link"></use>
    </svg>
  </a>
</h3>
<p>Chef&rsquo;s ability to provision and configure infrastructure makes it a powerful tool for managing large-scale deployments. By automating both the creation of virtual machines and the installation of the Chef client, you can efficiently spin up new resources and ensure they are configured consistently.</p>
<h2 id="how-to-use-chef-to-manage-system" class=link_owner>
  **How to Use Chef to Manage System
  <a href="#how-to-use-chef-to-manage-system" class="link icon">
    <svg>
      <use xlink:href="#anchor-link"></use>
    </svg>
  </a>
</h2>
<hr>
<h2 id="running-chef-client-in-local-mode" class=link_owner>
  Running Chef Client in Local Mode
  <a href="#running-chef-client-in-local-mode" class="link icon">
    <svg>
      <use xlink:href="#anchor-link"></use>
    </svg>
  </a>
</h2>
<p>To run the Chef client in local mode and apply a recipe to your local system, use the following command:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>chef-client -z -r <span style="color:#e6db74">&#34;recipe[myapache]&#34;</span>
</span></span></code></pre></div><ul>
<li><strong>Options Explained:</strong>
<ul>
<li><code>-z</code> or <code>--local-mode</code>: Runs the Chef client in local mode, which doesn&rsquo;t require a Chef Infra Server.</li>
<li><code>-r</code> or <code>--runlist</code>: Specifies the run list, which is a list of recipes and roles to be applied.</li>
</ul>
</li>
</ul>
<p><strong>Note:</strong> In practice, you typically run <code>chef-client</code> against remote nodes to configure them. However, in this tutorial, you are configuring the same node where your VS Code and terminal are running.</p>
<hr>
<h2 id="applying-a-recipe-to-a-remote-system" class=link_owner>
  Applying a Recipe to a Remote System
  <a href="#applying-a-recipe-to-a-remote-system" class="link icon">
    <svg>
      <use xlink:href="#anchor-link"></use>
    </svg>
  </a>
</h2>
<p>To apply a recipe to a remote system, you can use the <code>knife ssh</code> command:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>knife ssh IPADDRESS -m -x chef -P PWD <span style="color:#e6db74">&#39;sudo chef-client&#39;</span>
</span></span></code></pre></div><ul>
<li><strong>Options Explained:</strong>
<ul>
<li><code>IPADDRESS</code>: The IP address of the remote node.</li>
<li><code>-m</code>: Executes the command on multiple nodes (useful when specifying ranges or groups).</li>
<li><code>-x chef</code>: Specifies the SSH username (<code>chef</code> in this case).</li>
<li><code>-P PWD</code>: Specifies the SSH password (<code>PWD</code> is the placeholder for the actual password).</li>
<li><code>'sudo chef-client'</code>: The command to run on the remote node, prefixed with <code>sudo</code> to execute with elevated privileges.</li>
</ul>
</li>
</ul>
<hr>
<h2 id="automating-chef-client-in-production-environments" class=link_owner>
  Automating Chef Client in Production Environments
  <a href="#automating-chef-client-in-production-environments" class="link icon">
    <svg>
      <use xlink:href="#anchor-link"></use>
    </svg>
  </a>
</h2>
<p><strong>Note:</strong> In a production environment where you need to configure and maintain many nodes or servers, you typically configure <code>chef-client</code> to run automatically at set intervals on the nodes.</p>
<ul>
<li><strong>How It Works:</strong>
<ul>
<li><strong>Scheduled Runs:</strong> <code>chef-client</code> is set up as a scheduled task (e.g., via cron on Linux systems) to run at regular intervals.</li>
<li><strong>Chef Infra Server Check-In:</strong>
<ul>
<li>When <code>chef-client</code> runs, it checks in with the <strong>Chef Infra Server</strong>.</li>
<li>It retrieves the latest cookbooks and configurations.</li>
<li>It applies any updates or changes to the node.</li>
</ul>
</li>
<li><strong>Consistency and Compliance:</strong>
<ul>
<li>Ensures that all nodes are consistently configured.</li>
<li>Helps maintain compliance with security policies and organizational standards.</li>
</ul>
</li>
</ul>
</li>
</ul>
<hr>
<p>By automating <code>chef-client</code> runs, your fleet of nodes will always be up to date with the latest configurations, making management more efficient and reducing the risk of configuration drift.</p>
<hr>

</div>
      </div></div><script>

const copy_text = 'Copy';
const copied_text = 'Copied';
const toggle_line_numbers_text = 'Toggle line numbers';
const toggle_line_wrap_text = 'Toggle line wrap';
const resize_snippet = 'Resize snippet height';
const not_set = 'not set';
const quick_links = 'Quick links';
const search_results_label = 'Search Results';
const short_search_query = 'Query is too short'
const type_to_search = 'Type to search';
const no_matches_found = 'No matches found';
</script>
<footer class="pt-2 pb-2">
  <div class="wrap">
    <p>
      &copy; <span class="year">2024</span>
    </p>
    <a href="#pagetop" id="toTop" title=Back&#32;to&#32;top></a>
  </div>
</footer>
<svg width="0" height="0" class="hidden">
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 492.004 492.004" id="next">
    <path d="M484.14 226.886L306.46 49.202c-5.072-5.072-11.832-7.856-19.04-7.856-7.216 0-13.972 2.788-19.044 7.856l-16.132 16.136c-5.068 5.064-7.86 11.828-7.86 19.04 0 7.208 2.792 14.2 7.86 19.264L355.9 207.526H26.58C11.732 207.526 0 219.15 0 234.002v22.812c0 14.852 11.732 27.648 26.58 27.648h330.496L252.248 388.926c-5.068 5.072-7.86 11.652-7.86 18.864 0 7.204 2.792 13.88 7.86 18.948l16.132 16.084c5.072 5.072 11.828 7.836 19.044 7.836 7.208 0 13.968-2.8 19.04-7.872l177.68-177.68c5.084-5.088 7.88-11.88 7.86-19.1.016-7.244-2.776-14.04-7.864-19.12z"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 511.999 511.999" id="search">
    <path d="M508.874 478.708L360.142 329.976c28.21-34.827 45.191-79.103 45.191-127.309C405.333 90.917 314.416 0 202.666 0S0 90.917 0 202.667s90.917 202.667 202.667 202.667c48.206 0 92.482-16.982 127.309-45.191l148.732 148.732c4.167 4.165 10.919 4.165 15.086 0l15.081-15.082c4.165-4.166 4.165-10.92-.001-15.085zM202.667 362.667c-88.229 0-160-71.771-160-160s71.771-160 160-160 160 71.771 160 160-71.771 160-160 160z"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 241 179" id="harmburger">
    <path d="M1 10C1 4.477 5.477 0 11 0h220c5.523 0 10 4.477 10 10s-4.477 10-10 10H11C5.477 20 1 15.523 1 10zm0 80c0-5.523 4.477-10 10-10h220c5.523 0 10 4.477 10 10s-4.477 10-10 10H11c-5.523 0-10-4.477-10-10zm9 69c-5.523 0-10 4.477-10 10s4.477 10 10 10h220c5.523 0 10-4.477 10-10s-4.477-10-10-10H10z"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 401.998 401.998" id="sort">
    <path d="M73.092 164.452h255.813c4.949 0 9.233-1.807 12.848-5.424 3.613-3.616 5.427-7.898 5.427-12.847s-1.813-9.229-5.427-12.85L213.846 5.424C210.232 1.812 205.951 0 200.999 0s-9.233 1.812-12.85 5.424L60.242 133.331c-3.617 3.617-5.424 7.901-5.424 12.85 0 4.948 1.807 9.231 5.424 12.847 3.621 3.617 7.902 5.424 12.85 5.424zm255.813 73.097H73.092c-4.952 0-9.233 1.808-12.85 5.421-3.617 3.617-5.424 7.898-5.424 12.847s1.807 9.233 5.424 12.848L188.149 396.57c3.621 3.617 7.902 5.428 12.85 5.428s9.233-1.811 12.847-5.428l127.907-127.906c3.613-3.614 5.427-7.898 5.427-12.848 0-4.948-1.813-9.229-5.427-12.847-3.614-3.616-7.899-5.42-12.848-5.42z"></path>
  </symbol>
</svg>

<svg width="0" height="0" class="hidden">
  <symbol viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" id="facebook">
    <path d="M437 0H75C33.648 0 0 33.648 0 75v362c0 41.352 33.648 75 75 75h151V331h-60v-90h60v-61c0-49.629 40.371-90 90-90h91v90h-91v61h91l-15 90h-76v181h121c41.352 0 75-33.648 75-75V75c0-41.352-33.648-75-75-75zm0 0"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18.001 18.001" id="twitter">
    <path d="M15.891 4.013c.808-.496 1.343-1.173 1.605-2.034a8.68 8.68 0 0 1-2.351.861c-.703-.756-1.593-1.14-2.66-1.14-1.043 0-1.924.366-2.643 1.078a3.56 3.56 0 0 0-1.076 2.605c0 .309.039.585.117.819-3.076-.105-5.622-1.381-7.628-3.837-.34.601-.51 1.213-.51 1.846 0 1.301.549 2.332 1.645 3.089-.625-.053-1.176-.211-1.645-.47 0 .929.273 1.705.82 2.388a3.623 3.623 0 0 0 2.115 1.291c-.312.08-.641.118-.979.118-.312 0-.533-.026-.664-.083.23.757.664 1.371 1.291 1.841a3.652 3.652 0 0 0 2.152.743C4.148 14.173 2.625 14.69.902 14.69c-.422 0-.721-.006-.902-.038 1.697 1.102 3.586 1.649 5.676 1.649 2.139 0 4.029-.542 5.674-1.626 1.645-1.078 2.859-2.408 3.639-3.974a10.77 10.77 0 0 0 1.172-4.892v-.468a7.788 7.788 0 0 0 1.84-1.921 8.142 8.142 0 0 1-2.11.593z"
      ></path>
  </symbol>
  <symbol aria-hidden="true" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" id="mail">
    <path  d="M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" id="calendar">
    <path d="M452 40h-24V0h-40v40H124V0H84v40H60C26.916 40 0 66.916 0 100v352c0 33.084 26.916 60 60 60h392c33.084 0 60-26.916 60-60V100c0-33.084-26.916-60-60-60zm20 412c0 11.028-8.972 20-20 20H60c-11.028 0-20-8.972-20-20V188h432v264zm0-304H40v-48c0-11.028 8.972-20 20-20h24v40h40V80h264v40h40V80h24c11.028 0 20 8.972 20 20v48z"></path>
    <path d="M76 230h40v40H76zm80 0h40v40h-40zm80 0h40v40h-40zm80 0h40v40h-40zm80 0h40v40h-40zM76 310h40v40H76zm80 0h40v40h-40zm80 0h40v40h-40zm80 0h40v40h-40zM76 390h40v40H76zm80 0h40v40h-40zm80 0h40v40h-40zm80 0h40v40h-40zm80-80h40v40h-40z"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" id="github">
    <path d="M255.968 5.329C114.624 5.329 0 120.401 0 262.353c0 113.536 73.344 209.856 175.104 243.872 12.8 2.368 17.472-5.568 17.472-12.384 0-6.112-.224-22.272-.352-43.712-71.2 15.52-86.24-34.464-86.24-34.464-11.616-29.696-28.416-37.6-28.416-37.6-23.264-15.936 1.728-15.616 1.728-15.616 25.696 1.824 39.2 26.496 39.2 26.496 22.848 39.264 59.936 27.936 74.528 21.344 2.304-16.608 8.928-27.936 16.256-34.368-56.832-6.496-116.608-28.544-116.608-127.008 0-28.064 9.984-51.008 26.368-68.992-2.656-6.496-11.424-32.64 2.496-68 0 0 21.504-6.912 70.4 26.336 20.416-5.696 42.304-8.544 64.096-8.64 21.728.128 43.648 2.944 64.096 8.672 48.864-33.248 70.336-26.336 70.336-26.336 13.952 35.392 5.184 61.504 2.56 68 16.416 17.984 26.304 40.928 26.304 68.992 0 98.72-59.84 120.448-116.864 126.816 9.184 7.936 17.376 23.616 17.376 47.584 0 34.368-.32 62.08-.32 70.496 0 6.88 4.608 14.88 17.6 12.352C438.72 472.145 512 375.857 512 262.353 512 120.401 397.376 5.329 255.968 5.329z"></path>
  </symbol>
  <symbol viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" id="rss">
    <circle cx="3.429" cy="20.571" r="3.429"></circle>
    <path d="M11.429 24h4.57C15.999 15.179 8.821 8.001 0 8v4.572c6.302.001 11.429 5.126 11.429 11.428z"></path>
    <path d="M24 24C24 10.766 13.234 0 0 0v4.571c10.714 0 19.43 8.714 19.43 19.429z"></path>
  </symbol>
  <symbol enable-background="new 0 0 64 64" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64" id="anchor-link">
    <g fill="var(--theme)">
      <path d="m19 40c1.104 0 2-.896 2-2s-.896-2-2-2c-3.86 0-7-3.14-7-7 0-1.873.728-3.628 2.059-4.95 1.313-1.322 3.068-2.05 4.941-2.05h10c3.86 0 7 3.14 7 7 0 .258-.015.509-.048.78-.174 1.574-.885 3.052-2.017 4.176-.532.54-1.137.974-1.797 1.289-.997.476-1.419 1.669-.944 2.666.476.996 1.669 1.419 2.667.943 1.08-.516 2.063-1.219 2.908-2.075 1.763-1.75 2.885-4.08 3.156-6.539.051-.413.075-.819.075-1.24 0-6.065-4.935-11-11-11h-10c-2.947 0-5.709 1.147-7.77 3.221-2.083 2.07-3.23 4.832-3.23 7.779 0 6.065 4.935 11 11 11z"></path>
      <path d="m45 28c-1.104 0-2 .896-2 2s.896 2 2 2c3.86 0 7 3.141 7 7 0 1.873-.728 3.628-2.059 4.95-1.313 1.322-3.068 2.05-4.941 2.05h-10c-3.86 0-7-3.141-7-7 0-.258.015-.509.048-.78.174-1.574.885-3.052 2.017-4.176.532-.54 1.136-.974 1.796-1.289.997-.476 1.419-1.67.944-2.667s-1.669-1.418-2.667-.944c-1.081.516-2.064 1.22-2.908 2.076-1.763 1.75-2.885 4.08-3.156 6.538-.05.415-.074.821-.074 1.242 0 6.065 4.935 11 11 11h10c2.946 0 5.709-1.147 7.77-3.221 2.083-2.07 3.23-4.833 3.23-7.779 0-6.065-4.935-11-11-11z"></path>
    </g>
  </symbol>
  <symbol viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" id="linkedin">
    <path d="M437 0H75C33.648 0 0 33.648 0 75v362c0 41.352 33.648 75 75 75h362c41.352 0 75-33.648 75-75V75c0-41.352-33.648-75-75-75zM181 406h-60V196h60zm0-240h-60v-60h60zm210 240h-60V286c0-16.54-13.46-30-30-30s-30 13.46-30 30v120h-60V196h60v11.309C286.719 202.422 296.93 196 316 196c40.691.043 75 36.547 75 79.688zm0 0"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 612 612" id="arrow">
    <path d="M604.501 440.509L325.398 134.956c-5.331-5.357-12.423-7.627-19.386-7.27-6.989-.357-14.056 1.913-19.387 7.27L7.499 440.509c-9.999 10.024-9.999 26.298 0 36.323s26.223 10.024 36.222 0l262.293-287.164L568.28 476.832c9.999 10.024 26.222 10.024 36.221 0 9.999-10.023 9.999-26.298 0-36.323z"></path>
  </symbol>
  <symbol aria-hidden="true" viewBox="0 0 24 24" id="carly">
    <path fill="currentColor" d="M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"></path>
  </symbol>
  <symbol enable-background="new 0 0 512 512" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" id="copy">
    <path d="m366.905 108.016h-141.91c-11.048 0-20.003 8.955-20.003 20.003s8.955 20.003 20.003 20.003h141.91c11.048 0 20.003-8.955 20.003-20.003s-8.956-20.003-20.003-20.003z"></path>
    <path d="m366.905 188.027h-141.91c-11.048 0-20.003 8.955-20.003 20.003s8.955 20.003 20.003 20.003h141.91c11.047 0 20.003-8.955 20.003-20.003s-8.955-20.003-20.003-20.003z"></path>
    <path d="m286.004 268.039h-61.009c-11.048 0-20.003 8.955-20.003 20.003s8.955 20.003 20.003 20.003h61.009c11.048 0 20.003-8.955 20.003-20.003s-8.955-20.003-20.003-20.003z"></path>
    <path d="m448.028 272.039c11.048 0 20.003-8.955 20.003-20.003v-172.024c0-44.119-35.894-80.012-80.012-80.012h-184.027c-44.094 0-79.971 35.853-80.012 79.938-44.118 0-80.012 35.893-80.012 80.012v272.039c0 44.118 35.893 80.012 80.012 80.012h194.028c44.118 0 80.012-35.893 80.012-80.012v-.608c39.414-4.938 70.01-38.662 70.01-79.389 0-11.048-8.955-20.003-20.003-20.003s-20.003 8.955-20.003 20.003c0 22.054-17.942 40.001-39.996 40.006l-184.027.045h-.009c-10.685 0-20.73-4.16-28.285-11.715-7.558-7.556-11.721-17.604-11.721-28.291v-272.025c0-22.059 17.947-40.006 40.006-40.006h184.028c22.059 0 40.006 17.947 40.006 40.006v172.025c-.001 11.047 8.954 20.002 20.002 20.002zm-244.036 160.008h.02l154.002-.038c-.012 22.049-17.954 39.984-40.006 39.984h-194.027c-22.059 0-40.006-17.947-40.006-40.006v-272.039c0-22.059 17.947-40.006 40.006-40.006v232.094c0 21.375 8.325 41.471 23.441 56.583 15.113 15.11 35.2 23.428 56.57 23.428z"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512.001 512.001" id="closeme">
    <path d="M284.286 256.002L506.143 34.144c7.811-7.811 7.811-20.475 0-28.285-7.811-7.81-20.475-7.811-28.285 0L256 227.717 34.143 5.859c-7.811-7.811-20.475-7.811-28.285 0-7.81 7.811-7.811 20.475 0 28.285l221.857 221.857L5.858 477.859c-7.811 7.811-7.811 20.475 0 28.285a19.938 19.938 0 0 0 14.143 5.857 19.94 19.94 0 0 0 14.143-5.857L256 284.287l221.857 221.857c3.905 3.905 9.024 5.857 14.143 5.857s10.237-1.952 14.143-5.857c7.811-7.811 7.811-20.475 0-28.285L284.286 256.002z"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" id="open-menu">
    <path d="M492 236H20c-11.046 0-20 8.954-20 20s8.954 20 20 20h472c11.046 0 20-8.954 20-20s-8.954-20-20-20zm0-160H20C8.954 76 0 84.954 0 96s8.954 20 20 20h472c11.046 0 20-8.954 20-20s-8.954-20-20-20zm0 320H20c-11.046 0-20 8.954-20 20s8.954 20 20 20h472c11.046 0 20-8.954 20-20s-8.954-20-20-20z"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="instagram">
    <path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="youtube">
    <path d="M19.615 3.184c-3.604-.246-11.631-.245-15.23 0-3.897.266-4.356 2.62-4.385 8.816.029 6.185.484 8.549 4.385 8.816 3.6.245 11.626.246 15.23 0 3.897-.266 4.356-2.62 4.385-8.816-.029-6.185-.484-8.549-4.385-8.816zm-10.615 12.816v-8l8 3.993-8 4.007z"/>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="stackoverflow">
    <path d="M21 27v-8h3v11H0V19h3v8h18z"></path><path d="M17.1.2L15 1.8l7.9 10.6 2.1-1.6L17.1.2zm3.7 14.7L10.6 6.4l1.7-2 10.2 8.5-1.7 2zM7.2 12.3l12 5.6 1.1-2.4-12-5.6-1.1 2.4zm-1.8 6.8l13.56 1.96.17-2.38-13.26-2.55-.47 2.97zM19 25H5v-3h14v3z"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512.016 512" id="expand">
    <path d="m240 426.675781h-181.332031c-32.363281 0-58.667969-26.304687-58.667969-58.667969v-309.332031c0-32.363281 26.304688-58.6679685 58.667969-58.6679685h309.332031c32.363281 0 58.667969 26.3046875 58.667969 58.6679685v181.332031c0 8.832032-7.167969 16-16 16s-16-7.167968-16-16v-181.332031c0-14.699219-11.96875-26.667969-26.667969-26.667969h-309.332031c-14.699219 0-26.667969 11.96875-26.667969 26.667969v309.332031c0 14.699219 11.96875 26.667969 26.667969 26.667969h181.332031c8.832031 0 16 7.167969 16 16s-7.167969 16-16 16zm0 0"></path>
    <path d="m496 512.007812h-138.667969c-8.832031 0-16-7.167968-16-16 0-8.832031 7.167969-16 16-16h122.667969v-122.667968c0-8.832032 7.167969-16 16-16s16 7.167968 16 16v138.667968c0 8.832032-7.167969 16-16 16zm0 0"></path>
    <path d="m496 512.007812c-4.097656 0-8.191406-1.558593-11.308594-4.691406l-181.332031-181.335937c-6.25-6.25-6.25-16.382813 0-22.632813s16.382813-6.25 22.636719 0l181.332031 181.332032c6.25 6.25 6.25 16.382812 0 22.636718-3.136719 3.132813-7.230469 4.691406-11.328125 4.691406zm0 0"></path>
  </symbol>
  <symbol enable-background="new 0 0 512 512" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" id="order">
    <path d="m492 236h-347.738c-11.046 0-20 8.954-20 20s8.954 20 20 20h347.738c11.046 0 20-8.954 20-20s-8.954-20-20-20z"></path>
    <path d="m492 86h-347.738c-11.046 0-20 8.954-20 20s8.954 20 20 20h347.738c11.046 0 20-8.954 20-20s-8.954-20-20-20z"></path>
    <path d="m492 386h-347.738c-11.046 0-20 8.954-20 20s8.954 20 20 20h347.738c11.046 0 20-8.954 20-20s-8.954-20-20-20z"></path>
    <circle cx="27" cy="106" r="27"></circle>
    <circle cx="27" cy="256" r="27"></circle>
    <circle cx="27" cy="406" r="27"></circle>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" fill="#666" viewBox="0 0 512 512" id="check">
    <path d="M99.941 293.748a21.78 21.78 0 0 1-7.175-16.153c0-11.938 9.823-21.765 21.764-21.765a21.772 21.772 0 0 1 15.737 6.733l85.958 83.825 164.42-194.504c18.463-21.833 51.574 6.326 33.213 28.125L234.276 392.324l-1.032 1.135c-8.327 8.55-22.218 8.74-30.773.412L99.941 293.748z"></path>
  </symbol>
</svg>

<script>
  "use strict";const doc=document.documentElement,toggle_id="toggle",show_id="show",menu="menu",active="active";let site_title=`docs`,root_url="/";root_url=root_url.startsWith("http")?root_url:window.location.origin;const go_back_class="button_back",line_class=".line",code_block_config=JSON.parse('{"maximum":100,"show":false}'),iconsPath=`icons/`,shell_based=["sh","shell","zsh","bash"],body=elem("body"),max_lines=code_block_config.maximum,show_lines=code_block_config.show,copy_id="panel_copy",wrap_id="panel_wrap",lines_id="panel_lines",panel_expand="panel_expand",panel_expanded="panel_expanded",panel_box="panel_box",panel_hide="panel_hide",panel_from="panel_from",full_height="initial",highlight="highlight",highlight_wrap="highlight_wrap",hash="#",light="light",dark="dark",storageKey=`${site_title}-color-mode`,mermaidThemeKey=`${site_title}-mermaid`,key="--color-mode",mode_data="data-mode",bank=window.localStorage;function isObj(e){return!!(e&&typeof e=="object"&&e!==null)}function createEl(e="div"){return document.createElement(e)}function emptyEl(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function elem(e,t=document){let n=!!isObj(t)&&t.querySelector(e);return n||!1}function elems(e,t=document){return isObj(t)?t.querySelectorAll(e):[]}function pushClass(e,t){if(isObj(e)&&t){let n=e.classList;!n.contains(t)&&n.add(t)}}function deleteClass(e,t){if(isObj(e)&&t){let n=e.classList;!!n.contains(t)&&n.remove(t)}}function modifyClass(e,t){if(isObj(e)&&t){const n=e.classList;n.contains(t)?n.remove(t):n.add(t)}}function containsClass(e,t){if(isObj(e)&&t&&e!==document)return!!e.classList.contains(t)}function isChild(e,t){let n=isObj(e)&&t&&typeof t=="string";return!!(n&&e.closest(t))}function elemAttribute(e,t,n=null){if(n)e.setAttribute(t,n);else return n=e.getAttribute(t),n||!1}function deleteChars(e,t){let n=e;if(Array.isArray(t))for(let e=0;e<t.length;e++)n=n.replace(t[e],"");else n=n.replace(t,"");return n}function isBlank(e){return!e||e.trim().length===0}function isMatch(e,t){if(isObj(e)){if(t.isArray){let n=t.map(function(t){return e.matches(t)});return n.includes(!0)}return e.matches(t)}}function closestInt(e,t){return t.reduce(function(t,n){return Math.abs(n-e)<Math.abs(t-e)?n:t})}function hasClasses(e){if(isObj(e)){const t=e.classList;return t.length}}function wrapEl(e,t){e.parentNode.insertBefore(t,e),t.appendChild(e)}function wrapText(e,t,n="mark"){let s=`<${n}>`,o=`</${n}>`,r=`%3C${n}%3E`,c=`%3C/${n}%3E`;function i(t){let n=t.innerHTML,a=new RegExp(e,"gi"),i=e.length?n.match(a):null;if(i){i.forEach(function(e){n=n.replaceAll(e,`${s}${e}${o}`),t.innerHTML=n});const e=elems("img",t);e&&e.forEach(e=>{e.src=e.src.replaceAll(s,"").replaceAll(o,"").replaceAll(r,"").replaceAll(c,"")})}}const l=["h1","h2","h3","h4","h5","h6","p","code","td"];l.forEach(function(e){const n=elems(e,t);n.length&&n.forEach(function(e){e.children.length>=1?(Array.from(e.children).forEach(function(e){i(e)}),i(e)):i(e)})});const a=elems("a");a&&a.forEach(function(e){e.href=e.href.replaceAll(encodeURI(s),"").replaceAll(encodeURI(o),"")})}function parseBoolean(e=""){switch(e=e.trim().toLowerCase(),e){case"true":return!0;case"false":return!1;default:return void 0}}function loadSvg(e,t){t.innerHTML=`
  <svg class="icon_${e}">
    <use xlink:href="#${e}"></use>
  </svg>`}function copyToClipboard(e){let t,n,s;t=createEl("textarea"),t.value=e,t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",n=document.getSelection(),doc.appendChild(t),s=n.rangeCount>0&&n.getRangeAt(0),t.select(),document.execCommand("copy"),doc.removeChild(t),s&&(n.removeAllRanges(),n.addRange(s))}const snippet_actions=[{icon:"copy",id:"copy",title:copy_text,show:!0},{icon:"order",id:"lines",title:toggle_line_numbers_text,show:!0},{icon:"carly",id:"wrap",title:toggle_line_wrap_text,show:!1},{icon:"expand",id:"expand",title:resize_snippet,show:!1}];function addLines(e){let t=e.textContent;const n=[];t.includes(`
`)&&e.closest("pre")&&!e.children.length&&(t=t.split(`
`),t.forEach((t,s)=>{if(t.trim().length){const o=`
        <span class="line line-flex">
          <span class="ln">${s+1}</span>
          <span class="cl">${t.trim()}</span>
        </span>`.trim();n.push(o),e.closest("pre").className="chroma",pushClass(e,"language-unknown"),e.dataset.lang=not_set}}),e.innerHTML=n.join("").trim(" "))}function wrapOrphanedPreElements(){const e=elems("pre");Array.from(e).forEach(function(e){const t=e.parentNode,n=!containsClass(t,highlight);if(n){const t=createEl();t.className=highlight;const n=createEl();n.className=highlight_wrap,wrapEl(e,t),wrapEl(t,n)}})}wrapOrphanedPreElements();function codeBlocks(){const e=elems("code"),t=Array.from(e).filter(function(e){return addLines(e),e.closest("pre")&&!Array.from(e.classList).includes("noClass")}).map(function(e){return e});return t}function codeBlockFits(e){const t=e.offsetWidth,n=e.closest(`.${highlight}`).offsetWidth;return t<=n}function maxHeightIsSet(e){let t=e.style.maxHeight;return t.includes("px")}function restrainCodeBlockHeight(e){const n=e[max_lines-1];let t=full_height;if(n){const s=n.offsetTop;if(s!==0){t=`${s}px`;const n=e[0].parentNode,o=n.closest(`.${highlight}`),i=containsClass(o,panel_expanded);i||(n.dataset.height=t,n.style.maxHeight=t)}}}const blocks=codeBlocks();function collapseCodeBlock(e){const t=elems(line_class,e),n=t.length;if(n>max_lines){const n=createEl();pushClass(n,panel_expand),pushClass(n,panel_from),n.title="Toggle snippet",n.textContent="...";const s=e.closest(".highlight");window.setTimeout(function(){const e=s.nextElementSibling.lastElementChild;deleteClass(e,panel_hide)},150),restrainCodeBlockHeight(t);const o=e.parentNode.parentNode;o.appendChild(n)}}blocks.forEach(function(e){collapseCodeBlock(e)});function actionPanel(){const e=createEl();return e.className=panel_box,snippet_actions.forEach(function(t){const n=createEl("a");n.href="#",n.title=t.title,n.className=`icon panel_icon panel_${t.id}`,!t.show&&pushClass(n,panel_hide),loadSvg(t.icon,n),e.appendChild(n)}),e}function toggleLineNumbers(e){e&&(e.forEach(e=>modifyClass(e,"pre_nolines")),restrainCodeBlockHeight(e))}function toggleLineWrap(e){modifyClass(e,"pre_wrap");const t=elems(".ln",e);restrainCodeBlockHeight(t)}function copyCode(e){const t=e.parentNode.parentNode.querySelector(`.${copy_id}`),s=t.title;loadSvg("check",t),t.title=copied_text,e=e.cloneNode(!0);const n=elems(".ln",e);!!n.length&&n.forEach(e=>e.remove());let o=elems("span",e);o.forEach(e=>{const t=e.textContent.trim(" ");t.indexOf("$")===0&&(e.textContent=e.textContent.replace("$ ",""))});const i=e.textContent.trim(" ");copyToClipboard(i),setTimeout(function(){t.title=s,loadSvg("copy",t)},2250)}(function(){const n=highlight_wrap;blocks.forEach(function(e){show_lines===!1&&toggleLineNumbers(elems(".ln",e));const o=e.parentNode.parentNode,t=createEl();t.className=n,wrapEl(o,t);const s=actionPanel(),i=elem(`.${wrap_id}`,s);!codeBlockFits(e)&&deleteClass(i,panel_hide),t.appendChild(s)});function t(e,t){return e.matches(`.${t}`)||e.closest(`.${t}`)}function s(e,t){const n=e.matches(`.${t}`)?e:e.closest(`.${t}`);deleteClass(n,active),setTimeout(function(){modifyClass(n,active)},50)}doc.addEventListener("click",function(e){const o=e.target,i=t(o,copy_id),a=t(o,wrap_id),r=t(o,lines_id),c=t(o,panel_expand),l=i||a||r||c;if(l){e.preventDefault(),s(o,"icon");const t=o.closest(`.${n}`).firstElementChild.firstElementChild;let l=elems(".ln",t);if(!!a&&toggleLineWrap(t),!!r&&toggleLineNumbers(l),c){let e=t.firstElementChild;const n=e.closest(".highlight");maxHeightIsSet(e)?(e.style.maxHeight=full_height,pushClass(n,panel_expanded)):(e.style.maxHeight=e.dataset.height,deleteClass(n,panel_expanded))}!!i&&copyCode(t)}}),function(){blocks.forEach(e=>{let t=e.dataset.lang;const n=shell_based.includes(t);if(n){const t=elems(line_class,e);Array.from(t).forEach(e=>{e=e.lastElementChild;let t=e.textContent.trim(" ");!!(t.indexOf("$")!==0&&t.trim(" ").length)&&pushClass(e,"shell")})}if(t=t==="sh"?"shell":t,t!=="fallback"){const n=createEl();n.textContent=t,pushClass(n,"lang"),e.closest(`.${highlight_wrap}`).appendChild(n)}})}()})();function prefersColor(e){return`(prefers-color-scheme: ${e})`}function systemMode(){return window.matchMedia&&window.matchMedia(prefersColor(dark)).matches?dark:light}function currentMode(){let e=light+dark;e=[...e];let t=getComputedStyle(doc).getPropertyValue(key).replace(/"/g,"").trim();return[...t].filter(t=>e.includes(t)).join("")}function changeMode(e){e?(bank.setItem(storageKey,light),elemAttribute(doc,mode_data,light)):(bank.setItem(storageKey,dark),elemAttribute(doc,mode_data,dark))}function pickModePicture(e){elems("picture").forEach(function(t){let o=t.firstElementChild;const n=t.dataset,s=[n.lit,n.dark];o.src=e=="dark"?s[1]:s[0]})}function setMermaidTheme(e){bank.setItem(mermaidThemeKey,e);let t=elem(".color_choice");t.value=e}function setUserColorMode(e=!1){const n=currentMode()==dark,s=bank.getItem(storageKey),o=systemMode();s?e?changeMode(n):elemAttribute(doc,mode_data,s):changeMode(e===!0?n:o!==dark);const t=doc.dataset.mode;doc.dataset.systemmode=o,!!t&&pickModePicture(t),setMermaidTheme(t)}setUserColorMode(),function(){return elem(".nav_header").offsetHeight+25}();function toggleMenu(e){const t=e.target,o=t.matches(`.${toggle_id}`),n=t.closest(`.${toggle_id}`),i=elems(`.${show_id}`)?Array.from(elems(`.${show_id}`)):[],a=t.closest(`.${menu}`);function s(e,t=!1){i.forEach(function(n){!t&&deleteClass(n,show_id),n!==e.closest(`.${menu}`)&&deleteClass(n,show_id)})}if(o||n){const s=n?n.parentNode.parentNode:t.parentNode.parentNode;e.preventDefault(),modifyClass(s,show_id)}else a?s(t,!0):s(t)}(function(){const t=elems("code");t&&t.forEach(function(e){hasClasses(e)||!e.children.length&&pushClass(e,"noClass")})})();function featureHeading(){const t="section_link",n="section_title",e=elem(".aside");if(e){let s=elem(`.${t}.${active}`);s=s||elem(`.${n}.${active}`),e.scroll({top:s.offsetTop,left:0})}}function activeHeading(e,t){let n=Object.create(null);n.active=t.filter(function(e){return containsClass(e,active)})[0],n.new=t.filter(function(t){return parseInt(t.dataset.position)===e})[0],n.active!=n.new&&(!!n.active&&deleteClass(n.active,active),pushClass(n.new,active))}setTimeout(()=>{featureHeading()},50);function updateDate(){const t=new Date,e=t.getFullYear().toString,n=elem(".year");!!n&&(e.textContent=e)}function customizeSidebar(){const e="toc_active",n=elem("aside"),t=elems("nav",n);if(t){t.forEach(function(t){if(t.id="",pushClass(t,"toc"),t.children.length>=1){const n=Array.from(t.children[0].children),s=t.previousElementSibling;!!s.matches(`.${active}`)&&pushClass(t,e),n.forEach(function(e){pushClass(e,"toc_item"),pushClass(e.firstElementChild,"toc_link")})}});const n=elem(`.${e}`);if(n){const e=Array.from(elems("a",n)),s=e.map(function(e){return e.hash}),t=s.map(function(e){const t=document.getElementById(decodeURIComponent(e.replace("#",""))),n=t.offsetTop;return n});e.forEach(function(e,n){e.dataset.position=t[n]}),window.addEventListener("scroll",function(){let s=window.scrollY,o=closestInt(s,t);activeHeading(o,e)})}}elems("p").forEach(function(e){const t=elems(".button",e);t.length>1&&pushClass(e,"button_grid")})}function markExternalLinks(){let e=elems("a");e&&Array.from(e).forEach(function(e){let n,o,i,s,a,r,t,c;t=new URL(e.href),c=t.host!==location.host||t.protocol!==location.protocol||t.port!==location.port,c&&(n="target",o="rel",i="_blank",s="noopener",a=elemAttribute(e,n),r=elemAttribute(e,s),!a&&elemAttribute(e,n,i),!r&&elemAttribute(e,o,s))})}function sanitizeURL(e){const t=e.indexOf(hash);if(t>-1){const n=e.substr(t,e.length-1);e=e.replace(n,"")}return e}function copyFeedback(e){const t=document.createElement("div"),n="link_yanked";if(t.classList.add(n),t.innerText=copied_text,!elem(`.${n}`,e)){const n=e.getElementsByTagName("svg")[0],s=n.src;n.src="http://localhost:1313/icons/check.svg",e.appendChild(t),setTimeout(function(){e.removeChild(t),n.src=s},2250)}}function copyHeadingLink(){let t,n,s,o,e;t="link",n=elems(`.${t}`),n&&document.addEventListener("click",function(n){e=n.target,o=e.parentNode,(e&&containsClass(e,t)||containsClass(o,t))&&(n.preventDefault(),s=e.href!=void 0?e.href:e.parentNode.href,copyToClipboard(s),copyFeedback(e.href!=void 0?e:e.parentNode))})}function makeTablesResponsive(){const e=elems("table");e&&e.forEach(function(e){const t=createEl();pushClass(t,"scrollable"),wrapEl(e,t)})}function backToTop(){const e=elem("#toTop");window.addEventListener("scroll",()=>{const t=window.scrollY;t>=200?(e.style.display="flex",pushClass(e,active)):deleteClass(e,active)})}function lazyLoadMedia(e=[]){e.forEach(e=>{let t=elems(e);t&&Array.from(t).forEach(function(e){e.loading="lazy"})})}function loadActions(){updateDate(),customizeSidebar(),markExternalLinks(),copyHeadingLink(),makeTablesResponsive(),backToTop(),lazyLoadMedia(["iframe","img"]),doc.addEventListener("click",e=>{let t=e.target,n="color_choice",s=containsClass(t,n);!!s&&setUserColorMode(!0),toggleMenu(e)})}window.addEventListener("load",loadActions())
</script>

<script src="http://localhost:1313/js/search.min.4437ae3ec3e4ec7febea4bc1218f634e02c2c75310d99a21b065027c411b19733f43425e3bb742ff72ea9b262a172a9185d8f8602e8136b61cf318da35afe592.js" async></script>


</body>
</html>
